# DAS Auto Experiment Application

## Описание
Приложение для автоматизации экспериментов с пьезоэлектрическими устройствами. Программа позволяет управлять тремя каналами пьезоконтроллера, настраивать параметры сигналов и автоматически сохранять результаты измерений.

## Основные возможности
- Управление тремя независимыми каналами пьезоконтроллера
- Настройка параметров для каждого канала:
  - Амплитуда (0-100 В)
  - Смещение (bias, -100 до 100 В)
  - Частота (0-1000 Гц)
  - Тип сигнала (синус, меандр, треугольный, пилообразный)
- Автоматическое сохранение конфигурации
- Графический интерфейс с индикацией прогресса
- Безопасное завершение работы с обнулением всех каналов

## Требования
- Python 3.8 или выше
- PyQt5
- pyserial
- Windows 10/11

## Установка
1. Клонируйте репозиторий:
```bash
git clone https://github.com/your-username/DAS-auto-experiment-app.git
cd DAS-auto-experiment-app
```

2. Создайте виртуальное окружение и активируйте его:
```bash
python -m venv .venv
.venv\Scripts\activate
```

3. Установите зависимости:
```bash
pip install -r requirements.txt
```

## Использование
1. Запустите приложение:
```bash
python main.py
```

2. Настройте параметры:
   - Введите COM-порт для подключения к пьезоконтроллеру
   - Настройте параметры DAS (префикс файлов, количество файлов, количество отражений)
   - Для каждого канала установите:
     - Минимальное и максимальное значение амплитуды
     - Шаг изменения амплитуды
     - Минимальное и максимальное значение смещения
     - Шаг изменения смещения
     - Минимальную и максимальную частоту
     - Шаг изменения частоты
     - Тип сигнала

3. Управление экспериментом:
   - Нажмите "Start Experiment" для начала эксперимента
   - Используйте "Stop Experiment" для безопасного завершения
   - Прогресс отображается в нижней части окна

## Безопасность
- При запуске проверяется наличие udp_das_cringe.exe
- Все каналы автоматически обнуляются при:
  - Ошибках во время эксперимента
  - Принудительной остановке
  - Закрытии приложения
- Конфигурация автоматически сохраняется при изменениях

## Структура проекта
```
DAS-auto-experiment-app/
├── src/                    # Исходный код приложения
│   ├── gui/               # Графический интерфейс
│   ├── config/            # Управление конфигурацией
│   ├── experiment/        # Логика экспериментов
│   ├── devices/           # Управление устройствами
│   └── acquisition/       # Сбор данных
├── pztlibrary/            # Библиотека для работы с пьезоконтроллером
├── main.py                # Точка входа в приложение
└── requirements.txt       # Зависимости проекта
```

## Устранение неполадок
1. Если приложение не запускается:
   - Проверьте установку всех зависимостей
   - Убедитесь, что Python 3.8+ установлен
   - Проверьте наличие udp_das_cringe.exe

2. Если не удается подключиться к устройству:
   - Проверьте правильность COM-порта
   - Убедитесь, что устройство включено
   - Проверьте подключение USB-кабеля

3. Если эксперимент не запускается:
   - Проверьте все параметры конфигурации
   - Убедитесь, что значения находятся в допустимых диапазонах
   - Проверьте логи в файле app.log

## Лицензия
MIT License. См. файл LICENSE для подробностей. 